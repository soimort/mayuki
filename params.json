{"tagline":"A minimalist Markdown/YAML-based static wiki generator","note":"Don't delete this file! It's used internally to help with page regeneration.","body":"# Mayuki\r\n\r\n__Mayuki__ is a minimalist __Markdown/YAML__-based static __wiki__ generator.\r\n\r\nIt takes over a folder and converts wiki pages (written in [Markdown](http://en.wikipedia.org/wiki/Markdown) syntax) into HTML format suitable for publishing on a website or embedding into other web templates.\r\n\r\nMayuki is originally designed as a naive script to generate static HTML pages from a directory of Markdown texts on filesystem, being able to \"include\" code snippets for syntax highlighting by file name rather than putting the whole code in the Markdown file, and finally send to another folder to be used directly by [Jekyll](http://jekyllrb.com/), the static blogging system. It can also be used standalone, by generating static HTMLs for hosting on any web server without extra configuration.\r\n\r\nMayuki can be used as an HTML generator for:\r\n\r\n* Personal wikis, technical blogs and notes\r\n* Documentation and technical manuals\r\n\r\nthat can be hosted on any website.\r\n\r\nFeatures:\r\n\r\n* [RDiscount](https://github.com/rtomayko/rdiscount) Markdown parsing engine.\r\n\r\n* [Liquid](http://liquidmarkup.org/) templating engine.\r\n\r\n* [Pygments](http://pygments.org/)-powered syntax highlighting.\r\n\r\n* Built-in HTTP server for previewing generated HTML pages.\r\n\r\n* Wiki pages are based on the directory tree structure and located in the local filesystem rather than databases. Being convenient to manage for lightweight static sites, the whole wiki history can be easily version-controlled by a [VCS](http://en.wikipedia.org/wiki/Revision_control) like [Git](http://git-scm.com)).  \r\n    There are several wiki alternatives sharing a similar philosophy, such as:\r\n    * [ikiwiki](http://ikiwiki.info/) (in Perl)\r\n    * [Markdoc](http://markdoc.org/) (in Python)\r\n    \r\n    Mayuki is written in Ruby and intended to be a minimalist wiki system (with little or no configuration).\r\n\r\n\r\n\r\n## System Requirements\r\n\r\n### Dependencies\r\n\r\n* [Ruby](http://www.ruby-lang.org/en/) >= 1.9\r\n* [Pygments](http://pygments.org/) >= 1.5 (a syntax highlighting engine written in Python)\r\n\r\nInstall Pygments:\r\n    \r\n    $ sudo easy_install Pygments\r\n\r\nor (on Arch Linux):\r\n    \r\n    $ sudo pacman -S python-pygments\r\n    $ sudo easy_install-3.2 Pygments\r\n\r\n__Note:__ `pygmentize` executable must exist in `$PATH` (or `%PATH%` in Windows).\r\n\r\n\r\n\r\n## Installation\r\n\r\n* __Method 1:__ Install the latest release from Gem ([https://rubygems.org/gems/mayuki](https://rubygems.org/gems/mayuki))\r\n        \r\n        $ gem install mayuki\r\n\r\n* __Method 2:__ Install from Git repo ([https://github.com/soimort/mayuki](https://github.com/soimort/mayuki))\r\n\r\n    Git and rake are required if you choose to install Mayuki this way.\r\n        \r\n        $ git clone git://github.com/soimort/mayuki.git\r\n        $ cd mayuki\r\n        $ rake install\r\n\r\n\r\n\r\n## Getting Started\r\n\r\n### Hello, Mayuki!\r\n\r\nFirst of all, let's create the \"main\" directory for our new wiki:\r\n    \r\n    $ mkdir hello_mayuki\r\n    $ cd hello_mayuki/\r\n\r\nWrite some basic configuration in a file named `_config.yml`: we want all Liquid and Markdown syntax to be parsed, and wish the wiki system could generate full HTML files for us:\r\n    \r\n    $ cat > _config.yml\r\n    _render: [liquid, markdown]\r\n    _export: [html_full]\r\n\r\nNow it's time to write some `index.html`... but wait, remember Mayuki generates this for us; what we need to write is a `index.md`. Let's just put a line of text \"Chapter 1\" with a link to page `ch01` on it! (Cannot remember the Markdown syntax for that? Check it [here](http://en.wikipedia.org/wiki/Markdown).)\r\n    \r\n    $ cat > index.md\r\n    [Chapter 1](ch01)\r\n\r\nSo what's in the page \"`ch01`\"? Create a `ch01` folder under the main directory with another `index.md`, like this: (yep, there should be a link \"HOME\" back to \"`..`\", the main index)\r\n    \r\n    $ mkdir ch01\r\n    $ cat > ch01/index.md\r\n    Hello, Mayuki!\r\n    \r\n    [HOME](..)\r\n\r\nOK, now run Mayuki in the main directory and start a web server to see what it looks like.\r\n    \r\n    $ mayuki --server\r\n\r\nHopefully no error is prompted; open your browser and visit:\r\n    \r\n[http://localhost:4000/](http://localhost:4000/)\r\n\r\nCongratulations! You are running your very minimalist personal wiki now. Want to change something or create a new page? Do it in your favorite text editor. Want to share your knowledge with the world? Upload the wiki folder via FTP or rsync, or just push it onto a Git server hosting web pages! ([GitHub](http://pages.github.com/) or [Bitbucket](http://pages.bitbucket.org/))\r\n\r\nYou may want to learn some more Markdown syntax [here](http://daringfireball.net/projects/markdown/basics).\r\n\r\n### Command Line Usage\r\n\r\nRender the current directory:\r\n    \r\n    $ mayuki\r\n\r\nRender the current directory and start a web server on port 8080 (if no parameter is followed, port 4000 will be used):\r\n    \r\n    $ mayuki --server 8080\r\n\r\nThe current directory is considered as the \"main\" directory of the wiki.\r\n\r\nShow the version number of Mayuki:\r\n    \r\n    $ mayuki --version\r\n\r\n### API Usage\r\n\r\nRender the current directory and return the output path:\r\n    \r\n    require 'mayuki'\r\n    output_dir = Mayuki::mayuki\r\n\r\nOr render a specified directory:\r\n    \r\n    Mayuki::mayuki(\"mysite/\")\r\n\r\nThe processed directory is considered as the \"main\" directory of the wiki.\r\n\r\n### Directory Processing\r\n\r\nEach directory in the \"main\" wiki directory will be processed recursively.\r\n\r\nFor the directory to be processed:\r\n\r\n* All files and directories whose name starts with the \"_\" character are ignored (will be neither rendered nor exported).\r\n* All files whose name ends with \"`.md`\", \"`.markdown`\", \"`.htm`\" or \"`.html`\" are rendered and exported to the output path.\r\n* Everything else is left untouched and exported to the output path.\r\n\r\n### _config.yml\r\n\r\nEach directory may contain one or more `_conf*.yaml`, `_conf*.yml` configuration file.\r\n\r\nIf no configuration file matched those name patterns is found, the global configuration (the one used in the \"main\" directory) will be applied; If no global configuration is found in the main directory, the default configuration below will be used.\r\n\r\nDefault configuration:\r\n\r\n* _output: ./\\_output\r\n    * The output path. Must be writable for current user!\r\n\r\n* _render: [liquid]\r\n    * The render level. Use _[liquid, markdown]_ to generate valid HTML.\r\n    * Use _[liquid]_ (default) to parse Liquid only (will preserve Markdown syntax).\r\n\r\n* _export: []\r\n    * The export level. Use _[html]_ to export files of HTML snippets.\r\n    * Use _[html_article]_ to export files of HTML \\<article\\> elements.\r\n    * Use _[html_full]_ to export full HTML5 documents.\r\n    * Using _[]_ (default) will preserve YAML front matters (if any). You may use this setting if you want to put the wiki into a site layout template with [Jekyll](http://jekyllrb.com/).\r\n\r\n* _pygments: false\r\n    * Enable Pygments to generate stylesheets for syntax highlighting.\r\n    * Set to _true_ if syntax highlighting is used in this directory.\r\n\r\n### Syntax Highlighting\r\n\r\nSuppose you have a `test.rb` source file in the same directory with the Markdown file. Then include a line in the Markdown text:\r\n    \r\n\\{\\{ \"test.rb\" | src: \"ruby\" \\}\\}\r\n\r\nThis way you \"import\" the syntax-highlighted source code into this wiki page, using Ruby lexer.\r\n\r\nThe string parameter specifies the name of lexer. It's the same as the short name used in Pygments (Check [here](http://pygments.org/docs/lexers) for the complete list).\r\n\r\nWithout specifying a language lexer, you may just use:\r\n    \r\n\\{\\{ \"test.rb\" | code \\}\\}\r\n\r\nAnd let Pygments decide itself which lexer to use by filename patterns.\r\n\r\n\r\n\r\n## Licensing\r\n\r\nMayuki is released under the [MIT license](http://www.opensource.org/licenses/mit-license.php). See the `LICENSE` file for details.\r\n\r\n\r\n\r\n_Last Revision: 2012-06-22, by [Mort Yao](http://www.soimort.org/)_\r\n","name":"Mayuki","google":""}